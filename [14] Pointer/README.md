# Chapter 14. Pointer

## 14.1 ν¬μΈν„°λ€?

ν¬μΈν„°λ€? λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό κ°’μΌλ΅ κ°–λ” νƒ€μ…   

μλ¥Ό λ“¤μ–΄, int νƒ€μ… λ³€μ aμ κ°’μ΄ 3μ΄κ³ , λ©”λ¨λ¦¬ μ£Όμ†λ” 0x0100 λ²μ§€λΌλ©΄,

```go
p = &a
```

pλ” 0x0100 μ΄ λλ‹¤.   

μ΄λ ‡κ² λ©”λ¨λ¦¬ μ£Όμ†κ°’μ„ λ³€μ«κ°’μΌλ΅ κ°€μ§ μ μλ” λ³€μλ¥Ό **ν¬μΈν„° λ³€μ**λΌκ³  ν•λ‹¤.   

β†’ 'ν¬μΈν„° λ³€μ pκ°€ λ³€μ aλ¥Ό κ°€λ¦¬ν‚¨λ‹¤'κ³  ν•λ‹¤.

### π“ ν¬μΈν„° λ³€μ μ„ μ–Έ

ν¬μΈν„° λ³€μλ” κ°€λ¦¬ν‚¤λ” λ°μ΄ν„° νƒ€μ… μ•μ— * μ„ λ¶™μ—¬μ„ μ„ μ–Έν•λ‹¤. β†’ `var p *int`

```go
var a int
var p *int

p = &a  // aμ μ£Όμ†κ°’(&a)μ„ pμ— λ€μ…
```

κ·Έλ ‡λ‹¤λ©΄, pλ¥Ό μ΄μ©ν•΄μ„ λ³€μ aκ°’μ„ λ³€κ²½ν•λ” λ°©λ²•μ€?   

β†’ `*p = 20`     

// aκ°’μ΄ 20μΌλ΅ λ³€κ²½λλ‹¤.       

μ΄λ ‡κ² * μ„ λ¶™μ΄λ©΄ κ·Έ ν¬μΈν„° λ³€μκ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ κ³µκ°„μ— μ ‘κ·Όν•  μ μλ‹¤. 

### π“ ν¬μΈν„° λ³€μ«κ°’ λΉ„κµν•κΈ°

`==` μ—°μ‚°μ„ μ‚¬μ©ν•΄ ν¬μΈν„°κ°€ κ°™μ€ λ©”λ¨λ¦¬ κ³µκ°„μ„ κ°€λ¦¬ν‚¤λ”μ§€ ν™•μΈν•  μ μλ‹¤.

```go
	var a int = 10
	var b int = 20

	var p1 *int = &a // aμ λ©”λ¨λ¦¬ κ³µκ°„
	var p2 *int = &a // aμ λ©”λ¨λ¦¬ κ³µκ°„
	var p3 *int = &b // bμ λ©”λ¨λ¦¬ κ³µκ°„

	fmt.Printf("p1 == p2 : %v\n", p1 == p2)
	fmt.Printf("p2 == p3 : %v\n", p2 == p3)
```

### π’΅ ν¬μΈν„°μ κΈ°λ³Έκ°’μ€ nil

```go
var p *int
if p != nil { ... }  
```

## 14.2 ν¬μΈν„°λ” μ™ μ“°λ‚?

λ³€μ λ€μ…μ΄λ‚ ν•¨μ μΈμ μ „λ‹¬μ€, ν•­μƒ κ°’μ„ **λ³µμ‚¬**ν•κΈ° λ•λ¬Έμ—, λ³€κ²½μ‚¬ν•­μ΄ μ μ©λμ§€ μ•λ”λ‹¤.     

λν• μ»¤λ‹¤λ€ λ©”λ¨λ¦¬ κ³µκ°„μ„ λ³µμ‚¬ν•λ©΄ μ„±λ¥ λ¬Έμ λ„ μλ‹¤.    

μ΄λ ‡κ² λ³µμ‚¬ν•λ” λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄, ν¬μΈν„°λ΅ μ§μ ‘ μ£Όμ†κ°’μ— μ ‘κ·Όν•΄μ£Όλ” κ²ƒμ΄λ‹¤. 

```go
type Data struct {
	value int
	data [200]int
}

// λ‹¨μ κ°’ λ³µμ‚¬ -> μ‹¤μ  mainμ—μ„ λ³€κ²½λμ§€ μ•λ” λ¬Έμ 
func ChangeData(d Data){
	d.value = 200
	d.data[100] = 999
}

// ν¬μΈν„° μ‚¬μ© -> κ°’ λ³€κ²½ κ°€λ¥
func ChangeData_withPointer(d *Data){
	d.value = 200
	d.data[100] = 1000
}
```

## 14.3 μΈμ¤ν„΄μ¤

μΈμ¤ν„΄μ¤λ€? λ©”λ¨λ¦¬μ— ν• λ‹Ήλ λ°μ΄ν„°μ **μ‹¤μ²΄**μ΄λ‹¤.    

```go
var data Data
```

μ΄λ ‡κ² ν• λ‹Ήλ λ©”λ¨λ¦¬ κ³µκ°„μ μ‹¤μ²΄λ¥Ό **μΈμ¤ν„΄μ¤**λΌκ³  λ¶€λ¥Έλ‹¤.   

### π’΅ ν¬μΈν„° λ³€μ VS μΈμ¤ν„΄μ¤

```go
var data Data
var p *Data = &data   //λ³€μ dataμ μ£Όμ†κ°’
```

μ΄λ• ν¬μΈν„° λ³€μ pλ” dataλ¥Ό κ°€λ¦¬ν‚¨λ‹¤κ³  λ§ν•λ‹¤.   

pκ°€ μƒμ„±λ  λ•,  μƒλ΅μ΄ Data μΈμ¤ν„΄μ¤κ°€ λ§λ“¤μ–΄μ§„ κ² μ•„λ‹λ‹¤. κΈ°μ΅΄μ— μλ data μΈμ¤ν„΄μ¤λ¥Ό κ°€λ¦¬ν‚¨ κ²ƒμ΄λ―€λ΅, λ§λ“¤μ–΄μ§„ μΈμ¤ν„΄μ¤ κ°μλ” **1κ°**μ΄λ‹¤. 

### β†’ ν¬μΈν„° λ³€μκ°€ μ•„λ¬΄λ¦¬ λ§μ•„λ„ μΈμ¤ν„΄μ¤κ°€ μ¶”κ°€λ΅ μƒμ„±λλ” κ²ƒμ€ μ•„λ‹λ‹¤.

```go
var p1 *Data = &Data{}
var p2 *Data = p1
var p3 *Data = p1
```

μ΄ κ²½μ°μ—λ„ μΈμ¤ν„΄μ¤λ” **1κ°**μ΄λ‹¤. 

κ·ΈλΌ λ‹¤μ μ½”λ“μ—μ„λ” λ‡ κ°μΌκΉ? β†’ **3κ°** 

```go
var data1 Data
var data2 Data = data1
var data3 Data = data1
```

### π“ new() λ‚΄μ¥ ν•¨μ

ν¬μΈν„° λ³€μλ¥Ό μ΄κΈ°ν™”ν•λ” λ°©λ²•μ€ 3κ°€μ§€κ°€ μλ‹¤. 

- λ°©λ²• 1

```go
var data Data
var p *Data = &data
```

- λ°©λ²• 2: ν¬μΈν„°κ°’μ„ λ³„λ„μ λ³€μλ¥Ό μ„ μ–Έν•μ§€ μ•κ³  μ΄κΈ°ν™”ν•λ” λ°©λ²•

```go
p := &Data{}  
```

- λ°©λ²• 3: `new()` ν•¨μ μ‚¬μ©

```go
var p = new(Data)
```

β†’ new() ν•¨μλ” μΈμλ΅ νƒ€μ…μ„ λ°›μ•„, νƒ€μ…μ„ λ©”λ¨λ¦¬μ— ν• λ‹Ήν•κ³  κΈ°λ³Έκ°’μΌλ΅ μ±„μ› κ·Έ μ£Όμ†λ¥Ό λ°ν™ν•λ‹¤.

### π“ μΈμ¤ν„΄μ¤λ” μ–Έμ  μ‚¬λΌμ§€λ‚

κ°€λΉ„μ§€ μ»¬λ ‰ν„° (Garbage Collector) κ°€ λ©”λ¨λ¦¬μ—μ„ μ“Έλ°μ—†λ” λ°μ΄ν„°λ¥Ό ν•΄μ ν•λ‹¤.    

κ·Έλ ‡λ‹¤λ©΄ μ‚¬μ©λλ” λ°μ΄ν„°μΈμ§€ μ•„λ‹μ§€λ” μ–΄λ–»κ² μ•κΉ? 

```go
func TestFunc(){
	u := &User{}
	u.Age = 30
	fmt.Println(u)
}  // λ‚΄λ¶€ λ³€μ uλ” μ‚¬λΌμ§„λ‹¤. λ”λ¶μ–΄ μΈμ¤ν„΄μ¤λ„ μ‚¬λΌμ§„λ‹¤.
```

ν•¨μ TestFunc() μ΄ μΆ…λ£λλ©΄ ν•¨μμ λ‚΄λ¶€ λ³€μ uλ” μ‚¬λΌμ Έ User μΈμ¤ν„΄μ¤λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„° λ³€μκ°€ μ—†κ² λλ‹¤.    

κ·Έλ¬λ―€λ΅ μ“Έλ¨κ°€ μ—†μ–΄μ§„ User μΈμ¤ν„΄μ¤λ” λ‹¤μλ²μ— κ°€λΉ„μ§€ μ»¬λ ‰ν„°κ°€ μ²­μ†ν•λ‹¤. 

# Chapter 14 μ—°μµλ¬Έμ 

1. 8
2.  

```go
func NewActor(name string, hp int, speed float64) *Actor {
	a := Actor{name, hp, speed}
	return &a
}

// λλ” return &Actor{name, hp, speed}
```

3. 1κ°
